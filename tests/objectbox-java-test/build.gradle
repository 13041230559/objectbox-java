apply plugin: 'java'

uploadArchives.enabled = false

targetCompatibility = '1.7'
sourceCompatibility = '1.7'

// we have tests in the main source set
// to make Gradle pick them up, add the dir to the test source set
sourceSets {
    test {
        java {
            srcDirs += ['src/main/java']
        }
    }
}

dependencies {
    compile project(':objectbox-java')
    compile 'org.greenrobot:essentials:3.0.0-RC1'

    if(isLinux64) {
        compile "io.objectbox:objectbox-linux:${rootProject.version}"
    }

    // Right now, test sources are in src/main not src/test
    compile 'junit:junit:4.12'
}

test {
    // This is pretty useless now because it floods console with warnings about internal Java classes
    // However we might check from time to time, also with Java 9.
    // jvmArgs '-Xcheck:jni'
}